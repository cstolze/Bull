\documentclass{article}


\usepackage{proof}
\usepackage{xspace}
\usepackage{stmaryrd}
\usepackage{comment}

%\usepackage{times}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{xspace}
\usepackage{eepic}
\usepackage{epsfig}
\usepackage{floatflt}
\usepackage{pslatex}   %% better fonts, especially for ps2pdf
%\usepackage{qsymbols}
\usepackage{verbatim}  %% for the comment environment
\usepackage{relsize}

%% Defining versions
\newif\iflongversion
\newcommand{\vlong}[1]{\iflongversion %\ifcomment\changebar\fi
                                      #1\fi}
\newcommand{\vshort}[1]{\iflongversion %\ifcomment\changebar\fi
            \else         #1\fi}

%% Declaring versions (false is the default)
\longversiontrue
%%\longversionfalse





%% ------------------
%% Theorems and such
%% Amsthm provides unnumbered \newtheorem* environment.
%% ------------------

\usepackage{amsthm}

%% qedsymbol is defined in amsthm so use renewcommand
\renewcommand{\qedsymbol}{\mbox{$\scriptstyle /// $}}
% \newcommand{\qedsymbol}{\mbox{$\scriptstyle /// $}}

% \swapnumbers   %% Number in front of theorem

%% italicized
\theoremstyle{plain} 
\newtheorem{theorem}{Theorem} % [section]
% \newtheorem{theorem}{Theorem}
\newtheorem*{theorem*}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{lemma*}{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{corollary*}{Corollary}

%% roman text
\theoremstyle{definition} 
\newtheorem{definition}[theorem]{Definition}
\newtheorem*{definition*}{Definition}
\newtheorem{notation}[theorem]{Notation}
\newtheorem*{notation*}{Notation}
\newtheorem{remark}[theorem]{Remark}
\newtheorem*{remark*}{Remark}
\newtheorem{example}[theorem]{Example}
\newtheorem*{example*}{Example}
\newtheorem{examples}[theorem]{Examples}
\newtheorem*{examples*}{Examples}
\newtheorem{note}[theorem]{Note}
\newtheorem*{note*}{Note}
\newtheorem{notes}[theorem]{Notes}
\newtheorem*{notes*}{Notes}

\newtheorem{caution}[theorem]{Caution!}
\newtheorem*{caution*}{Caution!}


%%ORIGINAL
%\newtheorem{exercise}[theorem]{\textit{Exercise}}
\newtheorem{exercise}{\textit{Exercise}}
\newtheorem*{exercise*}{Exercise}
\newtheorem{exercises}[theorem]{\textit{Exercises}}
\newtheorem*{exercises*}{Exercises}
% \newtheorem{problem}[exercise]{Exercise}

\def\refsec#1{Section~\ref{#1}}
\def\refdef#1{Definition~\ref{#1}}
\def\reffig#1{Figure~\ref{#1}}
\def\refeqn#1{Equation~\ref{#1}}
\def\refthm#1{Theorem~\ref{#1}}
\def\refprop#1{Proposition~\ref{#1}}
\def\refcor#1{Corollary~\ref{#1}}

%% The propositional logic of ->  /\ and \/
\newcommand {\ILU}{{{\mathcal L}_\to^{\wedge\vee}}}
%% The Curry-style type-assignment system
\newcommand {\UNINTU}    {\Lambda^{{\wedge\vee}}_{\sf  u}}
%% The proof-term calculus corresponding to the logic of -> /\ and \/
\newcommand {\PROOFIU}   {\Lambda {\mathcal P}^{\wedge\vee}}
%% The Church-style typed-term system
\newcommand {\UNINT}     {\Lambda_{\sf t}^{\wedge\vee}}

%%%  TYPE RECONSTRUCTION ALGO
\renewcommand {\iff}     {{\mathsf {if}}}
\newcommand {\true}      {{\sf true}}
\newcommand {\false}     {{\sf false}}
\newcommand {\matchh}    {{\mathsf {match}}}
\newcommand {\with}      {{\mathsf {with}}}
\newcommand {\otherwise} {{\mathsf {otherwise}}}
\newcommand {\nequiv}    {\not \equiv}
\newcommand {\returnn}   {{\mathsf {return}}}
\newcommand {\but}       {{\mathsf {but}}}
\newcommand {\thenn}     {{\mathsf {then}}}
\newcommand {\elsee}     {{\mathsf {else}}}
\newcommand {\andd}      {{\mathsf {and}}}
\newcommand {\orr}       {{\mathsf {or}}}
\newcommand {\Type}      {{\mathsf {Type}}}
\newcommand {\Typecheck} {{\mathsf {Typecheck}}}

\newcommand {\LAM}       {\mbox{$\lambda$-calculus}}
\newcommand {\LAMBDA}    {\Lambda}
\newcommand {\INTERT}    {\Lambda \!{\mathcal T}}
\newcommand {\INTER}     {\Lambda_{\sf \!{t}}^{\wedge}}
\newcommand {\UNION}     {\Lambda_{\sf \!{t}}^{\vee}}
\newcommand {\INTERU}    {\Lambda^{\!{\wedge}}_{\sf u}}
\newcommand {\UNIONU}    {\Lambda^{\!{\vee}}_{\sf u}}

\newcommand {\Elft}  {\mbox{\small $\sswarrow\!$}}
\newcommand {\Ergt}  {\mbox{\small $\!\ssearrow$}}
\newcommand {\Intr}  {\mbox{\,$\wedge$\,}}
\newcommand {\Intru} {\mbox{\,$\vee$\,}}
\newcommand {\Sxdr}  {\mbox{\scriptsize \,$\downarrow$\,}}


\newcommand {\ala}   {{\textit{\`a la}}}
\newcommand {\ie}    {{\textit{i}.\textit{e}.}}
\newcommand {\Ie}    {{\textit{I}.\textit{e}.}}
\newcommand {\eg}    {{\textit{e}.\textit{g}.}}
\newcommand {\Eg}    {{\textit{E}.\textit{g}.}}
\newcommand {\vs}    {\textit{vs.}}
\newcommand {\etc}   {{\textit{etc}.}}
\newcommand {\wrt}   {{\textit{w}.\textit{r}.\textit{t}.}}
\newcommand {\aka}   {{\textit{a}.\textit{k}.\textit{a}.}}
\newcommand {\etalt} {{\textit{et al.}}}
\newcommand {\adhoc} {{\textit{ad hoc}}}
\newcommand {\perse} {{\textit{per se}}}
\newcommand {\defacto} {{\textit{de facto}}}
\newcommand {\infine} {{\textit{in fine}}}

%%% FREE/BOUND VARIABLES CONTEXTS
\newcommand {\FV}      {{\mathsf {Fv}}}
\newcommand {\FL}      {{\mathsf {Fm}}}
\newcommand {\BL}      {{\mathsf {Bm}}}
\newcommand {\MK}      {{\mathsf {Mk}}}

%%%% META SYMBOLS
\newcommand {\arrowtype}   {{\rightarrow}}
\newcommand {\at}          {\,}
\newcommand {\loc}         {\mbox{\scriptsize $@$}}
\newcommand {\of}          {{:}}

\newcommand {\D}           {\mbox{${\mathcal G}$}}
\newcommand {\G}           {\mbox{${\mathcal G}$}}
\newcommand {\E}           {\mbox{${\mathcal F}$}}
\newcommand {\ren}        {\mbox{$\sf ren$}}

\newcommand {\eqdef} {\,\mbox{\small$\stackrel{\mbox{\tiny $\triangle$}}{=}$}\,}

\newcommand {\DDT}   {{\mathcal D}{\it{\!er}}{\!\INTER}}
\newcommand {\DDU}   {{\mathcal D}{\it{\!er}}{\!\INTERU}}
\newcommand {\DDu}    {{\mathcal D^{\sf ^u}\hspace{-.4em}}}
\newcommand {\DD}     {{\mathcal D^{\sf ^t}\hspace{-.35em}}}
\newcommand {\JJ}     {{\mathcal E}}
\newcommand {\VV}     {{\mathcal V}}
\newcommand {\R}      {{\mathcal R}}
\newcommand {\Rinv}   {{\mathcal R}^{{-}1}}

\newcommand{\Ddef}[1] {\D\!\left(\begin{array}{l}#1\end{array}\right)}
\newcommand{\Edef}[1] {\E\!\left(\begin{array}{l}#1\end{array}\right)}

\newcommand{\ATX}[1]{{\mathsf{A}\{#1\}}_{i \in I}}
\newcommand{\BTX}[1]{{\mathsf{B}\{#1\}}_{i \in I}}
\newcommand{\CTX}[1]{{\mathsf{C}\{#1\}}}
\newcommand{\DTX}[1]{{\mathsf{D}\{#1\}}}
\newcommand{\ETX}[1]{{\mathsf{C'}\{#1\}}}
\newcommand{\CC}     {B}

%%%%  SMALL STEPS RELATIONS
\newcommand {\fleche}          {\rightarrow}
\newcommand {\flechebeta}      {\fleche_{\!\beta}}
\newcommand {\flecheeta}       {\fleche_{\!\eta}}
\newcommand {\flechebetaeta}   {\fleche_{\!\beta\eta}}
\newcommand {\flecheunion}     {\fleche_{\!\vee}}
\newcommand {\flechebetaa}     {\fleche_{\!\beta_1}}
\newcommand {\flechebetab}     {\fleche_{\!\beta_2}}
\newcommand {\flecheiota}      {\fleche_{\!{\iota}}}
\newcommand {\flecheprl}       {\fleche_{\!{\prl}}}
\newcommand {\flechepri}       {\fleche_{\!{\pri}}}
\newcommand {\flecheprr}       {\fleche_{\!{\prr}}}
\newcommand {\flecheinl}       {\fleche_{\!{\inl}}}
\newcommand {\flecheinr}       {\fleche_{\!{\inr}}}
\newcommand {\flecheini}       {\fleche_{\!{\ini}}}
\newcommand {\flechealpha}     {\fleche_{\!\alpha}}
\newcommand {\flechealphaiota} {\fleche_{\!{\alpha_\iota}}}
\newcommand {\flechebetaiota}  {{\fleche_{\!\beta\iota}}}
\newcommand {\flechebetai}     {\fleche_{\!\beta\iota}}
\newcommand {\flechebetapi}    {\fleche_{\!\beta\pi}}
\newcommand {\onestep}[1]      {\fleche_{#1}}
\newcommand {\eval}[1]         {\mapsto_{#1}}
\newcommand {\multieval}[1]    {\mathop{\eval{}\!\!\!\!\!\onestep{#1}}}
\newcommand {\flechetree}      {\fleche_{\!\iota{\pi}}}
\newcommand {\flechetreepi}    {\fleche_{\pi}}
\newcommand {\evaltree}        {\eval{}_{\!\!\iota\!{\pi}}}
\newcommand {\multievaltree}   {\mathop{\eval{}\!\!\!\!\!\flechetree}}
\newcommand {\multievaltreepi} {\mathop{\eval{}\!\!\!\!\!\flechetreepi}}
\newcommand {\eqtree}          {{=}_{\!\iota\!{\pi}}}
\newcommand {\eqprin}          {\stackrel{\prin}{=}}
\newcommand {\equall}          {\stackrel{\prin}{=}_{\!\!\beta}}
\newcommand {\eqeta}           {\,{=}_{\eta}\,}
\newcommand {\eqbeta}           {\,{=}_{\beta}\,}
\newcommand {\eqalpha}           {\,{=}_{\alpha}\,}


%% Laziness
\newcommand{\Dl}{\ensuremath{\Delta}}
\newcommand{\s}{\ensuremath{\sigma}}

\newcommand{\newCone}{\vdash_1}
\newcommand{\newCtwo}{\vdash_2}

\newcommand{\pair}[2]{\ensuremath{\langle {#1} \, ,\;  {#2} \rangle }}
\newcommand{\copair}[2]{\ensuremath{[ {#1} \, , \; {#2} ]}}
\newcommand{\cofun}[2]{\ensuremath{[{#1}]}}

\newcommand{\inl}{{\sf in_1}}
\newcommand{\inr}{{\sf in_2}}
\newcommand{\ini}{{\sf in_i}}

\newcommand{\prl}{{\sf pr_1}}
\newcommand{\prr}{{\sf pr_2}}
\newcommand{\pri}{{\sf pr_i}}
\newcommand{\prini}{{\sf prin_i}}
\newcommand{\prin}{{\sf prin}}

%% Reduction on proof-terms
\newcommand{\ptred}{\ensuremath{\to_{\wedge\!\!\vee}}}
%% Reduction on Curry-derivations
\newcommand{\pteq}{\ensuremath{\cong}\xspace}

\newcommand{\Types}{\ensuremath{\mathcal{T}}\xspace}
\newcommand{\Terms}{\ensuremath{\Lambda}\xspace}

\newcommand{\coerce}{\ensuremath{\mathsf{c}\xspace}}
\newcommand{\hcoerce}{\ensuremath{\mathsf{dp}\xspace}}

%% Substitution.  Usage: \subst{M}{x}{N}
\newcommand{\subst}[3]{{#1}[{#3}/{#2}]}
\newcommand{\syn}{\ensuremath{\mathsf{Sync}}}

%% Minimal type theory a la BDdL
\newcommand{\minthy}{\ensuremath{\Theta}\xspace}

%%% reductions
\newcommand{\churchbeta}{\ensuremath{\Rightarrow_{\beta}}}
\newcommand{\churchdelta}{\ensuremath{\Rightarrow_{\Delta}}}
\newcommand{\churchred}{\ensuremath{\Rightarrow}}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:

\begin{document}
Let $\Gamma \eqdef \{x_1\of \s_1,\ldots,x_n\of \s_n\}~(i \neq j$ implies $x_i \not \equiv x_j)$, and $\Gamma,x\of\s \eqdef \Gamma \cup \{x\of\s\}$. Let $\Psi \eqdef \{\Gamma_1\vdash \Delta_1 : \s_1,\ldots,\Gamma_m\vdash \Delta_m : \s_m\}$. Let $I \eqdef \{1,\ldots,m\}$.

\begin{figure}[!th!]
  \begin{center}
    \fbox{
      \begin{math}
        \begin{array}{c@{\qquad}c}
          \multicolumn{2}{l}
          {\mbox{}}
          \\[2mm]
          %% AXIOM AND TOP
          \infer[(\omega)]
          {\{\Gamma_i \vdash \Delta_i : \omega\}_{i\in I}}
          {}
          &
          \infer[(V\!ar)]
          {\{\Gamma_i \vdash x_i : \s_i\}_{i \in I}}
          {\forall i \in I, x_i \of {\s_i} \in \Gamma_i}
          \qquad
          \\[2mm]
          %% ARROW
          \infer[({\to}I)]
          {\{\Gamma_i \vdash \lambda x_i \of \s_i.\Delta_i : \s_i \to\s_i'\}_{i\in I}}
          {\{\Gamma_i, x_i \of\s_i \vdash \Delta_i  : \s_i'\}_{i\in I}}
          &
          \infer[({\to}E)]
          {\{\Gamma_i  \vdash \Delta_i \at \Delta_i' : \s_i\}_{i\in I}}
          {\{\Gamma_i  \vdash \Delta_i : \s_i' \to\s_i\}_{i\in I} &
           \{\Gamma_i \vdash \Delta_i' : \s_i'\}_{i\in I}}
          \\[2mm]
          %% INTERSECTION
          \infer[(\cap I)]
          {\Psi \cup \{\Gamma \vdash \Delta \cap \Delta' : \s \cap \s'\}}
          {\Psi \cup \{\Gamma \vdash \Delta : \s\} \cup
            \{\Gamma \vdash \Delta' : \s'\}}
          &
          \infer[(\cap E_i)]% \; i = 1,2 ]
          {\Psi \cup \{\Gamma \vdash \pri\Delta : \s_i\}}
          {\Psi \cup \{\Gamma \vdash \Delta : \s_1 \cap \s_2\} & i = 1,2}
          \\[2mm]
          %% UNION
          \multicolumn{2}{c}
          {
            \infer[(\cup I_i)]
            {\Psi \cup \{\Gamma \vdash \ini\Delta : \s_1 \cup \s_2\}}
            {\Psi \cup \{\Gamma \vdash \Delta : \s_i\} & i = 1,2}
            \quad
            \infer[(\cup E)]
                  {\Psi \cup \{\Gamma \vdash \Delta_1[\Delta_3/x_1] : \s_3\} \cup
                  \{\Gamma \vdash \Delta_2[\Delta_3/x_2] : \s_3\}}
            { \Psi \cup \{\Gamma,x_1\of\s_1 \vdash \Delta_1 : \s_3\} \cup \{\Gamma,x_2\of\s_2 \vdash \Delta_2 : \s_3\}  &
              \{\Gamma \vdash \Delta_3 : \s_1 \cup \s_2\}}
          }
        \end{array}
      \end{math}
    } % end fbox
  \end{center}
  \caption{I am not sure about the $\cup E$ rule though.}
  \label{Curry}
\end{figure}
\end{document}
